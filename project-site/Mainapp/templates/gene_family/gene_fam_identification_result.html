{% extends 'basemodel.html' %}

{% block title_block %}
    Gene family identification - HEMU
{% endblock %}

{% block header_block %}
    {% load static %}
    <div class="col-sm-2">
        <div style="margin-top: 10px; margin-left: -5px">
            <img src="{% static "AllPageStatic/HEMU_logo_crop.png" %}" class="img-responsive" alt="Responsive image" style="width: 72px; height: 104px">
        </div>
    </div>
    <div class="col-sm-10">
        <h2 style="margin-top: 20px; margin-left: -70px">Gene Family Identification</h2>
        <p style="color: #8e8e8e; margin-left: -65px">Identify members of putative gene families<br>from proteins of Andropogoneae species</p>
    </div>
{% endblock %}

{% block content_block %}
    <div class="container">
        <div class='row'><div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-heading" style="text-align: center">Gene family identification: <strong>Result</strong></div>
                    <div class="panel-body">
                        <div class="text-center">
                            <a href="{% static 'Temp_R_genefam/' %}{{ output_file_name }}" class="btn btn-default">
                                <span class="glyphicon glyphicon-download"></span>
                                Download family identification report (.txt)
                            </a>
                            <br>
                            <iframe src="{% static 'Temp_R_genefam/' %}{{ output_file_name }}" frameborder="0"
                                    width="700px" height="500px"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascript_block %}
    <script>
    function previewCSV(path_to_CSV){
        Papa.parse(path_to_CSV, {
            download: true,
            complete: function(results) {
                Heiho(results.data);
            }
        });
    }
    </script>
{% endblock %}